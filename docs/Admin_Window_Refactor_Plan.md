# 数据管理中心独立窗口改造方案 (2026-01-04)

## 背景
用户希望将“数据管理中心”页面整理为一个独立的配置界面。考虑到应用采用 Local-First (RxDB) 架构，受限于浏览器同源策略，不同端口无法共享 IndexedDB 数据。

## 选定方案：独立窗口 (Same-Origin New Window)
保持在同一端口下，通过 URL 参数路由实现“伪独立应用”体验。

### 技术实现
1.  **路由逻辑改造 (`App.tsx`)**:
    *   在应用初始化时检查 URL Search Params (e.g. `?view=admin`).
    *   如果有 `view=admin`参数，直接将应用状态设置为 Admin 模式，并跳过常规的 Sidebar 渲染，提供沉浸式体验。
    *   保持 `initialized` 等数据库连接逻辑不变，确保在新窗口中也能读写同一个数据库。

2.  **入口改造 (`components/Settings.tsx`)**:
    *   修改“进入数据管理中心”按钮的点击事件。
    *   使用 `window.open('/?view=admin', '_blank', 'width=1200,height=800')` 打开新弹出窗口。

3.  **UI 适配**:
    *   在 Admin 模式下，隐藏 Sidebar，仅显示数据管理主界面。
    *   可能需要增加一个“关闭/返回”按钮，或者依赖浏览器原生的关闭。

## 预期效果
*   用户点击按钮后，弹出一个全新的、干净的浏览器窗口。
*   新窗口专注于数据管理，无其他干扰。
*   数据与主窗口实时同步（RxDB 特性）。
